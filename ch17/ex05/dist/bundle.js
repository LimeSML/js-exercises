(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){for(let t=0;t<n;t++)for(let n=0;n<l;n++){const l=e[t][n];c.beginPath(),c.rect(n*o,t*o,o,o),c.fillStyle=l?"black":"white",c.fill(),c.stroke()}}e.d({},{_1:()=>l,$u:()=>o,Ir:()=>n,ej:()=>c});const n=50,l=50,o=10,r=document.querySelector("#screen"),c=r.getContext("2d"),i=document.querySelector("#start"),a=document.querySelector("#pause");r.width=n*o,r.height=l*o;let u=null;const f=new Audio("/ch15.04-10/ex10/decision1.mp3");let d,s=new Array(n).fill(null).map(()=>new Array(l).fill(null).map(()=>!!Math.floor(2*Math.random())));function m(e){null==d&&(d=e),e-d<100||(d=e,s=function(e){const t=e.map(e=>[...e]);for(let o=0;o<n;o++)for(let r=0;r<l;r++){let c=0;for(let t=-1;t<=1;t++)for(let i=-1;i<=1;i++){if(0===t&&0===i)continue;const a=o+t,u=r+i;a>=0&&a<n&&u>=0&&u<l&&e[a][u]&&c++}e[o][r]?(c<2||c>3)&&(t[o][r]=!1):3===c&&(t[o][r]=!0)}return t}(s),t(s)),u=requestAnimationFrame(m)}r.addEventListener("click",function(e){const n=r.getBoundingClientRect(),l=e.clientX-n.left,c=e.clientY-n.top,i=Math.floor(c/o),a=Math.floor(l/o);s[i][a]=!s[i][a],f.cloneNode().play(),t(s)}),i.addEventListener("click",()=>{u||m()}),a.addEventListener("click",()=>{u&&(cancelAnimationFrame(u),u=null)}),t(s)})();